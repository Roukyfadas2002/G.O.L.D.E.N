<div class="custom-dialog">
  <!-- ‚úÖ Titre -->
  <h2 class="dialog-title">
    {{ isEditMode ? 'Modifier' : 'Cr√©er' }} un Client
  </h2>

  <!-- ‚úÖ Contenu du formulaire -->
  <div class="dialog-body">
    <form [formGroup]="clientForm">
      <!-- ‚úÖ Nom & Pr√©nom -->
      <div class="input-group">
        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Nom</mat-label>
          <input matInput formControlName="nom" required>
        </mat-form-field>

        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Pr√©nom</mat-label>
          <input matInput formControlName="prenom" required>
        </mat-form-field>
      </div>

      <!-- ‚úÖ Email -->
      <mat-form-field appearance="outline" class="custom-field full-width">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" required>
      </mat-form-field>

      <!-- ‚úÖ Mot de passe -->
      <mat-form-field appearance="outline" class="custom-field full-width">
        <mat-label>Mot de passe</mat-label>
        <input matInput type="password" formControlName="password" placeholder="Laisser vide pour ne pas modifier">
        <button mat-icon-button class="eye-icon" (click)="togglePasswordVisibility()" type="button">
          <i class="fa-solid" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
        </button>
      </mat-form-field>

      <!-- ‚úÖ T√©l√©phone & Adresse -->
      <div class="input-group">
        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>T√©l√©phone</mat-label>
          <input matInput formControlName="telephone" required>
        </mat-form-field>

        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Adresse</mat-label>
          <input matInput formControlName="adresse" required>
        </mat-form-field>
      </div>

      <!-- ‚úÖ S√©lection du r√¥le avec menu d√©roulant stylis√© -->
      <div class="dropdown-container">
        <label for="role-select">üë§ S√©lectionnez un r√¥le</label>
        <div class="dropdown" (click)="toggleDropdown()">
          <span class="selected-option">
            <i class="fa-solid" [ngClass]="{
              'fa-user-shield': selectedRole === 'Admin',
              'fa-user': selectedRole === 'User'
            }"></i>
            {{ selectedRole || 'Choisir un r√¥le' }}
          </span>
          <i class="fa-solid fa-chevron-down"></i>
        </div>
        
        <ul class="dropdown-menu" *ngIf="dropdownOpen">
          <li *ngFor="let role of roles" (click)="selectRole(role)">
            <i class="fa-solid" [ngClass]="{
              'fa-user-shield': role.nomRole === 'Admin',
              'fa-user': role.nomRole === 'User'
            }"></i>
            {{ role.nomRole }}
          </li>
        </ul>
      </div>  
    </form>
  </div>

  <!-- ‚úÖ Actions -->
  <div class="dialog-actions">
    <button class="cancel-btn btn-hover" (click)="onCancel()">Annuler</button>
    <button class="confirm-btn btn-hover" (click)="onSubmit()" [disabled]="clientForm.invalid">
      {{ isEditMode ? 'Modifier' : 'Cr√©er' }}
    </button>
  </div>
</div>